# Mosquitto Configuration for Smart Lighting System

# General Settings
persistence true
persistence_location /mosquitto/data/

# Logging
log_dest file /mosquitto/log/mosquitto.log
log_type all

# Network Settings
listener 1883
protocol mqtt

# WebSocket Support
listener 9001
protocol websockets

# Authentication (disabled for development)
allow_anonymous true

# Access Control (for production, enable and configure)
# password_file /mosquitto/config/passwd
# acl_file /mosquitto/config/acl

# QoS and Message Settings
retained_persistence true
max_inflight_messages 100
max_queued_messages 1000

# Connection Settings
max_connections -1
autosave_interval 1800
autosave_on_changes true

# Keep alive
max_keepalive 3600
